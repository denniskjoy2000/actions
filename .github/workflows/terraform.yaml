name: 'Terraform GitHub Actions'
on:
  - push
jobs:
  terraform-build:
    runs-on: ubuntu-latest
    container:  #https://hub.docker.com/r/hashicorp/terraform/tags?page=1&ordering=last_updated
      image: hashicorp/terraform:0.15.2       #:latest
    steps:
      - name: 'Checkout'
        uses: actions/checkout@master
      - name: 'Terraform version'
        run: |
          terraform -version
      - name: 'Terraform init'
        run: |
          terraform init
      - name: 'Terraform apply'
        run: |
          terraform apply --auto-approve

  ansible-build:
    runs-on: ubuntu-latest
    container:  
      image: ansible/ansible:ubuntu1604
    steps:
      - name: 'Checkout'
        uses: actions/checkout@master
      - name: 'ansible version'
        run: |
          ansible --version
        

